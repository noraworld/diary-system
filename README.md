# Diary
Simple diary application. Unlike a blog, this application is suitable for writing everyday life, events, thoughts and other miscellaneous contents daily in a sense of diary.

This application is actually used by me. If you are interested in, please visit [Noraworld Diary](https://diary.noraworld.jp).

## Setup
You should create new user to post your diary.

```Ruby
$ rails console
irb(main):001:0> User.create!(:username => "example", :password => "password")
irb(main):002:0> exit
```

You can now log in with username `example` and password `password` in `/login` page. In production environment, run `RAILS_ENV=production rails console` instead of `rails console`. **The above command execution screen should not be seen by others in production environment** because it contains your secret password.

## Environment Variables
The environment variables are under the control of `.env` file. Create `.env` file under Rails application directory and append the environment variables below to `.env` file.

```Ruby
HOST_NAME='your site URL'
SITE_TITLE='your site title'
SITE_DESCRIPTION='your site description'
UNICORN_SOCKET='unicorn socket file path'
UNICORN_PID='unicorn pid file path'
RAILS_ENVIRONMENT='development or production'
SECRET_KEY_BASE='random string'
```

### Hostname
`HOST_NAME` is your site URL like `diary.noraworld.jp`. You can use local IP address like `192.168.33.10` or provisional host name using `/etc/hosts` file for development environment.

### Site Title
`SITE_TITLE` is your site title like `Noraworld Diary`.

### Site Description
`SITE_DESCRIPTION` is your site description like `Noraworld Diary is a simple and personal diary for noraworld`. This description is used as a search engine description.

### Unicorn Socket
`UNICORN_SOCKET` is socket file path of Unicorn for production environment. Basically, this file is located `RAILS_ROOT/tmp/unicorn.sock`, so the path is like `/home/USERNAME/diary/tmp/unicorn.sock`.

**NOTICE:** You should install Unicorn before using it. Simply run `bundle install` to install Unicorn.

If you only use in development environment, this environment is unnecessary.

### Unicorn PID
`UNICORN_PID` is same as `UNICORN_SOCKET`. The path is like `/home/USERNAME/diary/tmp/unicorn.pid`.

### Rails Environment
`RAILS_ENVIRONMENT` is `development` or `production`. You can select either with your environment.

### Secret Key Base
`SECRET_KEY_BASE` is random string for secret key base with production environment. The secret key base can be generated by running the following command.

```bash
$ rake secret
```

Copy the string generated by the command above and paste it to `SECRET_KEY_BASE`.

This environment is unnecessary with development environment.

## License
All codes of this repository are available under the MIT license. See the [LICENSE](https://github.com/noraworld/diary.noraworld.jp/blob/master/LICENSE) for more information.
